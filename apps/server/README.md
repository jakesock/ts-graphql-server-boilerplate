# @monorepo/server

## TODO:

- [x] registerUser
  - [x] Service
  - [x] Resolver
  - [x] Tests: Test errors
- [x] getCurrentUser
  - [x] Service
  - [x] Resolver
  - [x] Tests
- [x] loginUser
  - [x] Service
  - [x] Resolver
  - [x] Tests
- [x] changeUserPassword
  - [x] Yup schema
  - [x] Service
  - [x] Resolver
  - [x] Tests
- [ ] logoutUser
  - [x] Service
  - [x] Resolver
  - [ ] Tests: Figure out how to test this with a real session
- [ ] confirmUserEmail
  - [x] Service
  - [x] Resolver
  - [ ] Tests: Figure out how to test this with a real confirmation code
- [ ] sendNewConfirmationEmail
  - [x] Service
  - [x] Resolver
  - [ ] Tests: Figure out how to test email sending with codes
- [ ] sendPasswordResetEmail
  - [x] Service
  - [x] Resolver
  - [ ] Tests: Figure out how to test email sending with codes
- [ ] resetUserPassword
  - [x] Yup schema
  - [x] Service
  - [x] Resolver
  - [ ] Tests: Figure out how to test this with a real reset code
- [x] isAuthenticated middleware
- [x] Create regulated error responses
- [x] Implement custom server error responses
- [x] Add custom error handling throughout the app
- [x] add field resolver for user email that only allows the current user to see their own email
- [x] user dataloader
- [x] create email utils for user module
- [x] create email templates for user module email utils
- [ ] update build process so we can include our email templates
- [ ] add better/more robust logging
- [ ] rate limiting
- [ ] multi-session
  - [ ] add sessions to redis (for multi-session tracking)
  - [ ] remove all sessions for a user when they log out or reset their password
- [ ] implement the ability to lock account (for brute force password attempts or too many reset attempts, etc.)
- [ ] dockerize application
